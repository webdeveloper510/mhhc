!function($){var gvDataTablesExt={has_tabs:null,init:function(){gvDataTablesExt.has_tabs=$("#gravityview_settings").data("ui-tabs"),$("#gravityview_directory_template").on("change",gvDataTablesExt.toggleMetaboxAndRowGroup).trigger("change"),$("#datatables_settingsbuttons, #datatables_settingsscroller, #datatables_settingsauto_update, #datatables_settingsrowgroup").on("change",gvDataTablesExt.showGroupOptions).trigger("change"),$("#datatables_settingsscroller").on("change",gvDataTablesExt.toggleNonCompatible).trigger("change"),$("body").on("gravityview/settings/tab/enable",gvDataTablesExt.showMetabox).on("gravityview/settings/tab/disable",gvDataTablesExt.hideMetabox).on("gravityview/field-added",load_row_group_with_fields).on("sortupdate","#directory-active-fields .active-drop",load_row_group_with_fields)},toggleMetaboxAndRowGroup:function(){var template=$("#gravityview_directory_template").val(),$setting=$("#gravityview_datatables_settings");"datatables_table"===template?($("body").trigger("gravityview/settings/tab/enable",$setting),load_row_group_with_fields()):$("body").trigger("gravityview/settings/tab/disable",$setting)},showMetabox:function(event,tab){gvDataTablesExt.has_tabs||$(tab).slideDown("fast")},hideMetabox:function(event,tab){gvDataTablesExt.has_tabs||$(tab).slideUp("fast")},showGroupOptions:function(){var _this=$(this);_this.is(":checked")?_this.parents("tr").siblings().fadeIn():_this.parents("tr").siblings().fadeOut(100)},toggleNonCompatible:function(){var _this=$(this),fixedCB=$("#datatables_settingsfixedheader, #datatables_settingsfixedcolumns");_this.is(":checked")?fixedCB.prop("checked",null).parents("table").hide():fixedCB.parents("table").fadeIn()}};function load_row_group_with_fields(){var active_fields=$("#directory-active-fields .active-drop > div.gv-fields"),settings_field=$("#datatables_settingsrowgroup_field"),selected_value=settings_field.find(":selected").text(),options=[];active_fields.each(function(i,elem){var elem=$(elem),field_id=elem.find(".field-key").val();GV_DataTables_Admin.internal_fields.hasOwnProperty(field_id)||(field_id=elem.find(".gv-field-label-text-container").text(),elem=elem.find(".gv-field-label").data("original-title"),options.push(field_id||elem))}),settings_field.empty(),0!==options.length&&$.each(options,function(i,val){settings_field.append($("<option>",{value:i,text:val,selected:val===selected_value}))})}$(document).ready(function(){gvDataTablesExt.init()})}(jQuery);