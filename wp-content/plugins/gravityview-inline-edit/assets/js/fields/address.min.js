!function($){"use strict";var Address=function(options){this.init("address",options,Address.defaults),this.selectField=null};$.fn.editableutils.inherit(Address,$.fn.editabletypes.abstractinput),$.extend(Address.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.selectField=this.$tpl.find("select")},value2html:function(value,element){var $el=$(element);if(value){$.map(value,function(val,index){return[val]});var html=$el.attr("data-display");$el.html(html)}else $el.empty()},html2value:function(html){return null},value2str:function(value){var str="";if(value)for(var k in value)str=str+k+":"+value[k]+";";return str},str2value:function(str){return str},value2input:function(value){if(value&&!$.fn.editableutils.gvutils.value2input(this.$input.filter(".gv-inline-edit-single-field-mode"),value))if(this.selectField.filter(".gv-inline-edit-single-field-mode").length)this.selectField.val(value[this.selectField.data("inputnumber")]).trigger("change",!0);else{var stateField=this.$input.filter('[name$=".4"]');this.$input.filter('[name$=".1"]').val(value[1]),this.$input.filter('[name$=".2"]').val(value[2]),this.$input.filter('[name$=".3"]').val(value[3]),stateField.length?stateField.val(value[4]):this.selectField.filter('[name$=".4"]').val(value[4]).trigger("change",!0),this.$input.filter('[name$=".4"]').val(value[4]),this.$input.filter('[name$=".5"]').val(value[5]),this.selectField.filter('[name$=".6"]').val(value[6]).trigger("change",!0)}},input2value:function(){var returnValue=$.fn.editableutils.gvutils.input2value(this.$input.filter(".gv-inline-edit-single-field-mode"));if(returnValue)return returnValue;if(this.selectField.filter(".gv-inline-edit-single-field-mode").length){var selectValue={};return selectValue[this.selectField.data("inputnumber")]=this.selectField.val(),selectValue}var state=this.$input.filter('[name$=".4"]').val();return{1:this.$input.filter('[name$=".1"]').val(),2:this.$input.filter('[name$=".2"]').val(),3:this.$input.filter('[name$=".3"]').val(),4:void 0!==state?state:this.selectField.filter('[name$=".4"]').val(),5:this.$input.filter('[name$=".5"]').val(),6:this.selectField.filter('[name$=".6"]').val()}},activate:function(){this.$input.filter(":first-child").focus()},autosubmit:function(){this.$tpl.find(":input").keydown(function(e){13===e.which&&$(this).closest("form").submit()})}}),Address.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults),$.fn.editabletypes.address=Address}(window.jQuery);