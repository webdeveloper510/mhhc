!function($){"use strict";var Checklist=function(options){this.init("checklist",options,Checklist.defaults)};$.fn.editableutils.inherit(Checklist,$.fn.editabletypes.list),$.extend(Checklist.prototype,{renderList:function(){$.isArray(this.sourceData)&&(this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass())},value2str:function(value){return $.isArray(value)?value.sort().join($.trim(this.options.separator)):""},str2value:function(str){var reg,value=null;return"string"==typeof str&&str.length?(reg=new RegExp("\\s*"+$.trim(this.options.separator)+"\\s*"),value=str.split(reg)):value=$.isArray(str)?str:[str],value},value2input:function(value){var valueArray=$.map(value,function(val,index){if(val&&val.length>0)return[val]});this.$input.prop("checked",!1),$.isArray(valueArray)&&valueArray.length&&this.$input.each(function(i,el){var $el=$(el);$.each(valueArray,function(j,val){$el.val()===val&&$el.prop("checked",!0)})})},input2value:function(){var checked=[];return this.$input.filter(":checked").each(function(i,el){checked.push($(el).val())}),checked},value2htmlFinal:function(value,element){var html=[],checked=$.fn.editableutils.itemsByValue(value,this.sourceData),escape=this.options.escape,sourceData=$(element).data("source"),inputID=$(element).data("inputid"),choiceDisplay=$(element).data("choice_display"),singleColumnField=!1,$el=$(element),isEntryView=$el.parents("table.gf_entries").length;if(inputID)if(singleColumnField=sourceData[inputID-1],value.length>0&&value.indexOf(singleColumnField.value)>=0)switch(choiceDisplay){case"label":$el.text(singleColumnField.text);break;case"value":$el.text(singleColumnField.value);break;default:$el.html('<span class="dashicons dashicons-yes"></span>')}else $el.empty();else if(checked.length){if($.each(checked,function(i,v){var text=escape?$.fn.editableutils.escape(v.value):v.value;isEntryView?html.push(text):html.push("<li>"+text+"</li>")}),isEntryView)return void $el.html(html.join(", "));$el.html('<ul class="bulleted">'+html.join("")+"</ul>")}else $el.empty()},activate:function(){},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&$(this).closest("form").submit()})}}),Checklist.defaults=$.extend({},$.fn.editabletypes.list.defaults,{separator:","}),$.fn.editabletypes.checklist=Checklist}(window.jQuery);