!function($){"use strict";var File=function(options){this.init("file",options,File.defaults)};$.fn.editableutils.inherit(File,$.fn.editabletypes.abstractinput),$.extend(File.prototype,{render:function(){this.$input=this.$tpl.parent();var field=this.options.scope;$(this.$input).find("input").attr("multiple",$(field).data("multiple"))},value2html:function(value,element){value||$(element).empty()},input2value:function(){return{file:this.$input.filter('[name="file"]').val()}},activate:function(){var self=this;$(this.options.scope).editable("option","savenochange",!0),$(this.options.scope).editable("option","ajaxOptions",{dataType:"json",contentType:!1,processData:!1,type:"POST",success:function(response){!1!==response.success?(response.data&&response.data.output&&$(self.options.scope).html(response.data.output),response.data.removed&&$(self.options.scope).html(response.data.message)):$(self.options.scope).html(response.data[0].message)}}),$(this.options.scope).editable("option","params",function(p){var data=new FormData;return $.each(self.$tpl[0].files,function(i,file){i++,data.append("input_"+i,file)}),data.append("nonce",gv_inline_x.nonce),data.append("action","gv_inline_upload_file"),data.append("view_id",$(self.options.scope).attr("data-viewid")),data.append("entry_id",$(self.options.scope).attr("data-entryid")),data.append("form_id",$(self.options.scope).attr("data-formid")),data.append("field_id",$(self.options.scope).attr("data-fieldid")),data}),this.$tpl.focus()},autosubmit:function(){this.$input.keydown(function(e){13===e.which&&$(this).closest("form").submit()})}}),File.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="file">',inputclass:null}),$.fn.editabletypes.file=File}(window.jQuery);