(($,obj,GravityMaps)=>{"use strict";(GravityMaps.MetaboxZoomRestrictions=obj).selectors={defaultZoom:"#gv_maps_se_map_zoom",minZoom:"#gv_maps_se_map_minzoom",maxZoom:"#gv_maps_se_map_maxzoom"},obj.bind=()=>{$(obj.selectors.minZoom).on("change.gravitymaps",obj.onMinChange),$(obj.selectors.maxZoom).on("change.gravitymaps",obj.onMaxChange)},obj.unbind=()=>{$(obj.selectors.minZoom).off("change.gravitymaps",obj.onMinChange),$(obj.selectors.maxZoom).off("change.gravitymaps",obj.onMaxChange)},obj.onMinChange=event=>{var $defaultZoom=$(obj.selectors.defaultZoom),event=$(event.target),$maxZoom=$(obj.selectors.maxZoom);const minZoom=parseInt(event.val(),10),maxZoom=parseInt($maxZoom.val(),10);maxZoom<minZoom&&$maxZoom.val(minZoom);$maxZoom.children("option").each((index,option)=>{var option=$(option),value=parseInt(option.val(),10);0!==value&&(value<minZoom?option.prop("disabled",!0):option.prop("disabled",!1))});event=parseInt($defaultZoom.val(),10),$maxZoom=Math.min(Math.max(event,minZoom),maxZoom);$maxZoom!==event&&$defaultZoom.val($maxZoom),$defaultZoom.children("option").each((index,option)=>{var option=$(option),value=parseInt(option.val(),10);value>maxZoom||value<minZoom?option.prop("disabled",!0):option.prop("disabled",!1)})},obj.onMaxChange=event=>{var $defaultZoom=$(obj.selectors.defaultZoom),event=$(event.target),$minZoom=$(obj.selectors.minZoom);const minZoom=parseInt($minZoom.val(),10),maxZoom=parseInt(event.val(),10);minZoom>maxZoom&&$minZoom.val(maxZoom);$minZoom.children("option").each((index,option)=>{var option=$(option),value=parseInt(option.val(),10);0!==value&&(value>maxZoom?option.prop("disabled",!0):option.prop("disabled",!1))});event=parseInt($defaultZoom.val(),10),$minZoom=Math.min(Math.max(event,minZoom),maxZoom);$minZoom!==event&&$defaultZoom.val($minZoom),$defaultZoom.children("option").each((index,option)=>{var option=$(option),value=parseInt(option.val(),10);value>maxZoom||value<minZoom?option.prop("disabled",!0):option.prop("disabled",!1)})},obj.triggerChange=()=>{$(obj.selectors.minZoom).trigger("change.gravitymaps"),$(obj.selectors.maxZoom).trigger("change.gravitymaps"),$(obj.selectors.defaultZoom).trigger("change.gravitymaps")},obj.ready=()=>{obj.shouldLoad()&&(obj.bind(),obj.triggerChange())},obj.shouldLoad=()=>{var isGravityViewScreen="undefined"!=typeof pagenow&&"gravityview"===pagenow;return GravityMaps.hooks.applyFilters("gk.maps.should_load_zoom_restrictions",isGravityViewScreen)},$(document).ready(obj.ready)})(jQuery,{},window.GravityKit.GravityMaps);